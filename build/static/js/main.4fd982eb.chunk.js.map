{"version":3,"sources":["index.js"],"names":["symbols","numbers","endsWithOperator","limitDigit","Calculator","props","handleClear","setState","startedExpresion","aux","lastOperation","result","handleBackDelete","state","slice","length","handlePressing","e","key","toLowerCase","handleResult","test","handleEvaluate","handleClicking","target","innerHTML","value","limitReached","expresion","includes","console","log","setTimeout","operate","Number","isNaN","formula","expression","answer","replace","Math","round","eval","NaN","toString","document","addEventListener","this","removeEventListener","id","className","onClick","Component","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.4fd982eb.chunk.js","sourcesContent":["import React, {Component} from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\n\r\n//symbols allowed in by the calculator \"+ - * / .\";\r\nlet symbols = /[/*-+-.]/;\r\nlet numbers = /^[0-9]+$/;\r\nlet endsWithOperator = /[x+‑/]$/;\r\n\r\nlet limitDigit = 22;\r\n\r\nclass Calculator extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tstartedExpresion: false,\r\n\t\t\taux: \"\",\r\n\t\t\tlastOperation: \"0\",\r\n\t\t\tresult: \"0\",\r\n\t\t};\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\tdocument.addEventListener(\"keydown\", this.handlePressing);\r\n\t}\r\n\tcomponentWillUnmount() {\r\n\t\tdocument.removeEventListener(\"keydown\", this.handlePressing);\r\n\t}\r\n\r\n\thandleClear = () => {\r\n\t\tthis.setState({\r\n\t\t\tstartedExpresion: false,\r\n\t\t\taux: \"\",\r\n\t\t\tlastOperation: \"0\",\r\n\t\t\tresult: \"0\",\r\n\t\t});\r\n\t};\r\n\thandleBackDelete = () => {\r\n\t\tif (this.state.startedExpresion) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tlastOperation: this.state.lastOperation.slice(0, this.state.lastOperation.length - 1),\r\n\t\t\t\tresult: this.state.result.slice(0, this.state.result.length - 1),\r\n\t\t\t});\r\n\r\n\t\t\tif(this.state.lastOperation.length === 0){\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tlastOperation: \"0\"\r\n\t\t\t\t})\r\n\t\t\t}\t\t\t\r\n\t\t\tif(this.state.result.length === 0){\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tresult: \"0\"\r\n\t\t\t\t})\r\n\t\t\t}\t\t\t\t\r\n\r\n\t\t} else {\r\n\t\t\tthis.handleClear();\r\n\t\t}\r\n\t};\r\n\r\n\thandlePressing = (e) => {\r\n\t\t//for instruccions\r\n\t\tswitch (e.key.toLowerCase()) {\r\n\t\t\tcase \"enter\":\r\n\t\t\t\tthis.handleResult();\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"delete\":\r\n\t\t\t\tthis.handleClear();\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"backspace\":\r\n\t\t\t\tthis.handleBackDelete();\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\t\t\t//nothing\r\n\t\t}\r\n\t\t//to detect the numbers or the digits\r\n\t\tif (numbers.test(e.key) || symbols.test(e.key)) {\r\n\t\t\tthis.handleEvaluate(e.key);\r\n\t\t}\r\n\t};\r\n\thandleClicking = (e) => {\r\n\t\tthis.handleEvaluate(e.target.innerHTML);\r\n\t};\r\n\r\n\thandleEvaluate = (value) => {\r\n\t\t// if there is no space for new digits\r\n\t\tif (this.state.result.length >= limitDigit) {\r\n\t\t\tthis.limitReached();\r\n\t\t} else {\r\n\t\t\t// attaching new values to the expresiong\r\n\t\t\tlet expresion = value;\r\n\t\t\texpresion = expresion === \"*\" ? \"x\" : expresion;\r\n\r\n\t\t\tif (!this.state.startedExpresion) {\r\n\t\t\t\tif (expresion === \".\") {\r\n\t\t\t\t\tif (!this.state.result.includes(\".\")) {\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\tstartedExpresion: true,\r\n\t\t\t\t\t\t\tlastOperation: this.state.lastOperation + \".\",\r\n\t\t\t\t\t\t\tresult: this.state.result + \".\",\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else if (/[1-9]/.test(expresion)) {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tstartedExpresion: true,\r\n\t\t\t\t\t\tlastOperation: expresion,\r\n\t\t\t\t\t\tresult: expresion,\r\n\t\t\t\t\t});\r\n\t\t\t\t} else if (/[+|\\-|x|/]/.test(expresion)) {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tstartedExpresion: true,\r\n\t\t\t\t\t\tlastOperation: this.state.lastOperation + expresion,\r\n\t\t\t\t\t\tresult: expresion,\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (expresion === \".\") {\r\n\t\t\t\t\tif (!this.state.result.includes(\".\")) {\r\n\t\t\t\t\t\tif (!/[+x\\-/]/.test(this.state.result[this.state.result.length - 1])) {\r\n\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\tlastOperation: this.state.lastOperation + expresion,\r\n\t\t\t\t\t\t\t\tresult: this.state.result + expresion,\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tconsole.log(\"de lokos\");\r\n\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\tlastOperation: this.state.lastOperation + \"0.\",\r\n\t\t\t\t\t\t\t\tresult: this.state.result + \"0.\",\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (/[0-9]/.test(expresion)) {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tlastOperation: this.state.lastOperation + expresion,\r\n\t\t\t\t\t\tresult: this.state.result + expresion,\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t} else if (/[+|x|/]/.test(expresion)) {\r\n\r\n\t\t\t\t\tif(/[+|x|/]/.test(this.state.lastOperation[this.state.lastOperation.length -1])){\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\tlastOperation: this.state.lastOperation.slice(0, this.state.lastOperation.length - 1) + expresion,\r\n\t\t\t\t\t\t\tresult: expresion,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}else if(/[-]/.test(this.state.lastOperation[this.state.lastOperation.length -1])){\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\tlastOperation: this.state.lastOperation.slice(0, this.state.lastOperation.length - 2) + expresion,\r\n\t\t\t\t\t\t\tresult: expresion,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\tlastOperation : this.state.lastOperation + expresion,\r\n\t\t\t\t\t\t\tresult : expresion\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}else if(/[-]/.test(expresion)){\r\n\t\t\t\t\tif(!/[-]/.test(this.state.lastOperation[this.state.lastOperation.length-1])){\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\tlastOperation : this.state.lastOperation + expresion,\r\n\t\t\t\t\t\t\tresult : expresion\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tlimitReached = () => {\r\n\t\tthis.setState({\r\n\t\t\taux: this.state.lastOperation,\r\n\t\t\tlastOperation: \"Limit reached\",\r\n\t\t});\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tlastOperation: this.state.aux,\r\n\t\t\t});\r\n\t\t}, 1000);\r\n\t};\r\n\r\n\thandleResult = () => {\r\n\t\tif (this.state.startedExpresion) {\r\n\t\t\tif(this.state.result[this.state.result.length - 1] === \".\") {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tstartedExpresion : false,\r\n\t\t\t\t\tlastOperation: this.operate(this.state.lastOperation + \"0\"),\r\n\t\t\t\t\tresult: this.operate(this.state.lastOperation + \"0\"),\r\n\t\t\t\t});\r\n\t\t\t}else {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tstartedExpresion : false,\r\n\t\t\t\t\tlastOperation: this.operate(this.state.lastOperation),\r\n\t\t\t\t\tresult: this.operate(this.state.lastOperation),\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tif(Number.isNaN(this.state.result)){\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tlastOperation : \"0\",\r\n\t\t\t\t\tresult : \"0\"\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t};\r\n\toperate = (formula) => {\r\n\t\tlet expression = formula;\r\n\t\twhile (endsWithOperator.test(expression)) {\r\n\t\t\texpression = expression.slice(0, -1);\r\n\t\t}\r\n\t\texpression = expression.replace(/x/g, \"*\").replace(/‑/g, \"-\").replace(\"--\", \"+0+0+0+0+0+0+\");\r\n\t\tlet answer;\r\n\t\ttry{\r\n\t\t\t// eslint-disable-next-line\r\n\t\t\tanswer = Math.round(1000000000000 * eval(expression)) / 1000000000000;\r\n\t\t}catch{\r\n\t\t\tanswer = NaN;\r\n\t\t}\r\n\t\t\r\n\t\treturn answer.toString();\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div id=\"calculator\">\r\n\t\t\t\t<div className=\"panel\">\r\n\t\t\t\t\t<p id=\"formula\">{this.state.lastOperation}</p>\r\n\t\t\t\t\t<p id=\"display\">{this.state.result}</p>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div id=\"board\">\r\n\t\t\t\t\t<button className=\"button\" onClick={this.handleClicking} id=\"zero\">0</button>\r\n\t\t\t\t\t<button className=\"button\" onClick={this.handleClicking} id=\"one\">1</button>\r\n\t\t\t\t\t<button className=\"button\" onClick={this.handleClicking} id=\"two\">2</button>\r\n\t\t\t\t\t<button className=\"button\" onClick={this.handleClicking} id=\"three\">3</button>\r\n\t\t\t\t\t<button className=\"button\" onClick={this.handleClicking} id=\"four\">4</button>\r\n\t\t\t\t\t<button className=\"button\" onClick={this.handleClicking} id=\"five\">5</button>\r\n\t\t\t\t\t<button className=\"button\" onClick={this.handleClicking} id=\"six\">6</button>\r\n\t\t\t\t\t<button className=\"button\" onClick={this.handleClicking} id=\"seven\">7</button>\r\n\t\t\t\t\t<button className=\"button\" onClick={this.handleClicking} id=\"eight\">8</button>\r\n\t\t\t\t\t<button className=\"button\" onClick={this.handleClicking} id=\"nine\">9</button>\r\n\r\n\t\t\t\t\t<button className=\"button\" onClick={this.handleClicking} id=\"add\">+</button>\r\n\t\t\t\t\t<button className=\"button\" onClick={this.handleClicking} id=\"subtract\">-</button>\r\n\t\t\t\t\t<button className=\"button\" onClick={this.handleClicking} id=\"multiply\">x</button>\r\n\t\t\t\t\t<button className=\"button\" onClick={this.handleClicking} id=\"divide\">/</button>\r\n\r\n\t\t\t\t\t<button className=\"button\" onClick={this.handleClicking} id=\"decimal\">.</button>\r\n\t\t\t\t\t<button className=\"button\" onClick={this.handleClear} id=\"clear\">AC</button>\r\n\t\t\t\t\t<button className=\"button\" onClick={this.handleResult} id=\"equals\">=</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nReactDOM.render(\r\n\t<React.StrictMode>\r\n\t\t<Calculator />\r\n\t</React.StrictMode>,\r\n\tdocument.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}